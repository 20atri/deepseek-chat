<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepSeek Chat</title>
    <link rel="stylesheet" href="style.css">
    <!-- 引入 Font Awesome 图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- 聊天区域 -->
        <div class="chat-area">
            <div class="chat-header">
                 <!-- 设置按钮 -->
                 <button id="settings-button" title="设置">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div id="chat-container">
                <!-- 消息将在这里动态添加 -->
            </div>

            <div id="message-input-container">
                <textarea id="user-input" placeholder="输入你的消息..." rows="1"></textarea> <!-- 初始改为1行，自动增高 -->
                <button id="send-button" title="发送">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>

            <div class="storage-controls">
                 <button id="save-button" title="保存对话">
                    <i class="fas fa-save"></i> 保存
                </button>
                <label for="load-input" class="load-button" title="加载对话">
                    <i class="fas fa-upload"></i> 加载
                </label>
                <input type="file" id="load-input" accept=".json" style="display: none;">
                 <button id="clear-button" title="清空对话">
                     <i class="fas fa-trash-alt"></i> 清空
                 </button>
            </div>
        </div>
    </div>

    <!-- 设置模态弹窗 -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" title="关闭">×</span>
            <h2>设置</h2>
            <div class="setting-item">
                <label for="api-key">API Key:</label>
                <input type="password" id="api-key" placeholder="输入你的 DeepSeek API Key">
            </div>
            <div class="setting-item">
                <label for="model-select">模型:</label>
                <select id="model-select">
                    <option value="deepseek-chat">deepseek-chat</option>
                    <option value="deepseek-reasoner" selected>deepseek-reasoner</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="temperature">Temperature (<span id="temp-value">0.7</span>):</label>
                <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7">
            </div>
            <div class="setting-item">
                <label for="frequency-penalty">重复惩罚 (<span id="penalty-value">0.5</span>):</label>
                <input type="range" id="frequency-penalty" min="0" max="2" step="0.1" value="0.5">
            </div>

            <!-- 新增：预设提示词选择 -->
            <div class="setting-item">
                <label for="predefined-prompt-select">选择提示词模板:</label>
                <select id="predefined-prompt-select">
                    <!-- 选项将由 JavaScript 动态填充 -->
                </select>
            </div>

            <!-- 现有：自定义系统提示词 -->
            <div class="setting-item">
                <label for="system-prompt">系统提示词 (System Prompt):</label>
                <textarea id="system-prompt" rows="4" placeholder="选择上方的模板或在此处输入自定义提示词"></textarea>
            </div>

             <div class="setting-item">
                 <label>
                    <input type="checkbox" id="reasoning-default-visible" checked> 默认显示思维链
                 </label>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>